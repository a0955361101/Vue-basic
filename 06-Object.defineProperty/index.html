<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object.defineProperty</title>
    <script src="../vue.js"></script>
</head>

<body>
    <!--
    1. Vue中的數據代理:
    通過 vm 物件來代理data物件中的屬性操作(讀/寫)
    2. Vue中數據代理的好處:
    更加方便的操作data中的數據
    3. 基本原理:
    通過Object.defineProperty()把 data 物件中所有屬性添加到 vm 上
    為每一個添加到 vm 上的屬性，都指定一個 getter / setter
    在 getter / setter 內部去操作(讀/寫) data 中對應的屬性 
    -->
    <script>
        let number = 18;
        let person = {
            name: '安安',
            sex: '男',
        };
        // 通過 Object.defineProperty 新增的屬性不會被遍歷
        Object.defineProperty(person, 'age', {
            // value: 18,
            // enumerable: true,  // 控制屬性是否可以枚舉，默認 false
            // writable: true,     // 控制屬性是否可以被修改，默認 false
            // configurable: true, // 控制屬性是否可以被刪除，默認 false

            // 當有人讀取 person 的 age 屬性時， get 函數就被會調用，且返回值就是 age 值
            get: function () {
                return number;
            },
            // 當有人修改 person 的 age 屬性時， set 函數就被會調用，且會收到修改的具體值 
            set(value) {
                number = value;
            }
        });
        // console.log(Object.keys(person));
        console.log(person);

    </script>
</body>

</html>